<!DOCTYPE html>
<html lang="es" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">


<head>
    <th:block th:include="~{/fragments/head}"></th:block>
</head>
<body>
<nav class="navbar navbar-inverse">
    <th:block th:include="~{/fragments/nav}"></th:block>
</nav>

<!--<div style="border-style: ridge; width: 80%;margin-top: 5%;margin-left: 10%; background-color: white">-->
<!--    <div>-->
<!--        <div class="col-xl-8 col-lg-10 col-md-12 col-sm-12" style="margin: auto">-->
<!--            <div class="tm-block " style="margin-left: 2%">-->
<!--                <div class="row">-->
<!--                    <div class="col-12" style="margin-top: 3%;text-align: center">-->
<!--                        <h2 class="tm-block-title d-inline-block">Add new role to user</h2>-->
<!--                    </div>-->
<!--                </div>-->
<!--                <hr>-->
<!--                <div class="row mt-4 tm-edit-product-row">-->
<!--                    <div class="col-xl-7 col-lg-7 col-md-12">-->
<!--&lt;!&ndash;                        <form th:action="@{/users/add}" method="POST"&ndash;&gt;-->
<!--                              class="tm-edit-product-form">-->
<!--                            <div class="input-group mb-3">-->
<!--                                <label for="username"-->
<!--                                       class="col-xl-4 col-lg-4 col-md-4 col-sm-5 col-form-label">Users</label>-->
<!--                                <select class="custom-select col-xl-9 col-lg-8 col-md-8 col-sm-7" id="username"-->
<!--                                        name="username">-->
<!--                                    <option  value=""  selected>Select user</option>-->
<!--                                    <option th:each="n : ${names}" th:text="${n}" th:value="${n}" >sasho</option>-->

<!--                                    <option></option>-->
<!--                                </select>-->
<!--                            </div>-->
<!--                            <div class="input-group mb-3">-->
<!--                                <label class="col-xl-4 col-lg-4 col-md-4 col-sm-5 col-form-label">Users</label>-->
<!--                                <div>-->
<!--                                    <input type="radio" id="user" name="role" value="user">-->
<!--                                    <label for="user">User</label><br/>-->
<!--                                    <input type="radio" id="admin" name="role" value="admin">-->
<!--                                    <label for="admin">Admin</label><br/>-->
<!--                                </div>-->
<!--                            </div>-->

<!--                            <div class="input-group mb-3">-->
<!--                                <div class="ml-auto col-xl-8 col-lg-8 col-md-8 col-sm-7 pl-0">-->
<!--                                    <button th:href="@{/users/add/{id}/(id=*{id})}" type="submit" class="btn btn-primary">Add-->
<!--                                    </button>-->
<!--                                </div>-->
<!--                            </div>-->
<!--&lt;!&ndash;                        </form>&ndash;&gt;-->
<!--                    </div>-->
<!--                    <div class="col-xl-4 col-lg-4 col-md-12 mx-auto mb-4">-->
<!--                        <img src="/images/admin.jpg" alt="Exercise picture" width="100%">-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
<!--</div>-->

<table>
    <tr>
        <th>Username</th>
        <th>User</th>
        <th>Admin</th>
<!--        <th>Make user</th>-->

    </tr>
    <tr th:each="n : ${names}" th:object="${n}">
        <th th:text="*{username}"></th>
        <th>
            <a th:if="${n.getRoles().size()==1}"
                    th:href="@{/users/add/admin/{id}(id=*{id})}">
                <button type="button">
                    Make Admin</button>
            </a>
        </th>
        <th>
            <a th:if="${n.getRoles().size()==2}"
               th:href="@{/users/remove/admin/{id}(id=*{id})}">
                <button type="button">
                    Make user</button>
            </a>
        </th>

    </tr>


</table>


<th:block th:include="~{/fragments/footer}"></th:block>

</body>

</html>